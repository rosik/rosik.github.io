class: titlepage
background-size: contain
background-image: url(template/bg-title-left.svg)

# –ö–∞–∫ –ø—Ä–∏ –ø–æ–º–æ—â–∏ –±—É–º–∞–≥–∏, –∫–∞—Ä–∞–Ω–¥–∞—à–∞<br/> –∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ Raft –¥–æ—Å—Ç–∏—á—å –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞
## –Ø—Ä–æ—Å–ª–∞–≤ –î—ã–Ω–Ω–∏–∫–æ–≤
### Picodata
.footnote[–°–ª–∞–π–¥—ã: https://rosik.github.io/2023-highload]
???
* –ó–∞—á–µ–º –º—ã –∑–¥–µ—Å—å (–ø–µ—Ä–µ—Å–∫–∞–∑ —Ç–µ–∑–∏—Å–æ–≤)
* –Ø –ø—Ä–æ–≤–æ–∂—É —ç—Ç–æ—Ç –º–∞—Å—Ç–µ—Ä-–∫–ª–∞—Å—Å –≤—Ç–æ—Ä–æ–π —Ä–∞–∑.
* –¢–µ–º–∞ —Å–ª–æ–∂–Ω–∞—è, –ø–æ—ç—Ç–æ–º—É –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å –ø–µ—Ä–µ–±–∏–≤–∞—Ç—å.

<!-- ############################################################ -->
<!-- ############################################################ -->
<!-- ############################################################ -->
---
# –û —á–µ–º —Ä–µ—á—å
–ö–ª–∞—Å—Ç–µ—Ä ‚Äî —ç—Ç–æ –≥—Ä—É–ø–ø–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å–æ–≤–º–µ—Å—Ç–Ω–æ –∏
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –µ–¥–∏–Ω—ã–º –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–º —Ä–µ—Å—É—Ä—Å–æ–º.
???
* –ò—Å—Ç–æ—Ä–∏—è –ø—Ä–æ —á—Ç–æ —Ç–∞–∫–æ–µ –∫–ª–∞—Å—Ç–µ—Ä. –û–ø—Ä–æ—Å –∞—É–¥–∏—Ç–æ—Ä–∏–∏.
* –ü—Ä–æ—è–Ω–∏–º. –ö–ª–∞—Å—Ç–µ—Ä ‚Äî —ç—Ç–æ –≥—Ä—É–ø–ø–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å–æ–≤–º–µ—Å—Ç–Ω–æ –∏
  –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –µ–¥–∏–Ω—ã–º –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–º —Ä–µ—Å—É—Ä—Å–æ–º.
* –ù–∞–±–æ—Ä –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–æ–≤ ‚Äî —ç—Ç–æ –∫–ª–∞—Å—Ç–µ—Ä. –ù–æ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–µ–µ —Å—Ç–µ–π—Ç—Ñ—É–ª.

---
# –û —á–µ–º —Ä–µ—á—å
–ö–ª–∞—Å—Ç–µ—Ä ‚Äî —ç—Ç–æ –≥—Ä—É–ø–ø–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å–æ–≤–º–µ—Å—Ç–Ω–æ –∏
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –µ–¥–∏–Ω—ã–º –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–º —Ä–µ—Å—É—Ä—Å–æ–º.
## –ó–∞–¥–∞—á–∞
* –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤.
* –ù–∞–¥–æ –¥–æ—Å—Ç–∏—á—å –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞.
???
–ó–∞–¥–∞—á–∞ —Å–≤–æ–¥–∏—Ç—Å—è –∫ —Å–ª–µ–¥—É—é—â–µ–º—É:
- –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤.
- –ú—ã —Ö–æ—Ç–∏–º —á—Ç–æ–±—ã –¥–∞–Ω–Ω—ã–µ –Ω–∞ –Ω–∏—Ö –±—ã–ª–∏ –∫–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω—ã.
- –ë–∞—Ö–Ω–µ–º –¥–≤—É—Ö—Ñ–∞–∑–Ω—ã–π –∫–æ–º–º–∏—Ç –∏ —Ü–µ–ª—å –¥–æ—Å—Ç–∏–≥–Ω—É—Ç–∞.

---
# –û —á–µ–º —Ä–µ—á—å
–ö–ª–∞—Å—Ç–µ—Ä ‚Äî —ç—Ç–æ –≥—Ä—É–ø–ø–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å–æ–≤–º–µ—Å—Ç–Ω–æ –∏
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –µ–¥–∏–Ω—ã–º –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–º —Ä–µ—Å—É—Ä—Å–æ–º.
## –ó–∞–¥–∞—á–∞
* –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤.
* –ù–∞–¥–æ –¥–æ—Å—Ç–∏—á—å –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞.
* –í –Ω–µ–Ω–∞–¥—ë–∂–Ω–æ–π —Å–µ—Ç–∏.
???
- –ù–æ!
- –°–µ—Ç—å –∏–º–µ–µ—Ç —Å–≤–æ–π—Å—Ç–≤–æ —Ä–≤–∞—Ç—å—Å—è.

---
# –û —á–µ–º —Ä–µ—á—å
–ö–ª–∞—Å—Ç–µ—Ä ‚Äî —ç—Ç–æ –≥—Ä—É–ø–ø–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö —Å–æ–≤–º–µ—Å—Ç–Ω–æ –∏
–ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏—Ö—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –µ–¥–∏–Ω—ã–º –∫–æ–º–ø—å—é—Ç–µ—Ä–Ω—ã–º —Ä–µ—Å—É—Ä—Å–æ–º.
.footnote[https://raft.github.io]
## –ó–∞–¥–∞—á–∞
* –ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä–æ–≤.
* –ù–∞–¥–æ –¥–æ—Å—Ç–∏—á—å –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞.
* –í –Ω–µ–Ω–∞–¥—ë–∂–Ω–æ–π —Å–µ—Ç–∏.

## –†–µ—à–µ–Ω–∏–µ ‚Äî Raft
* –†–µ–ø–ª–∏—Ü–∏—Ä—É–µ–º—ã–π –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç.
* Replicated state machine.
???
- –ï—Å—Ç—å –º–Ω–æ–≥–æ —Ä–∞–∑–Ω—ã—Ö —Ä–µ—à–µ–Ω–∏–π, Raft - –æ–¥–Ω–æ –∏–∑ –Ω–∏—Ö.
- –Ø –Ω–µ –±—É–¥—É –¥–∞–∂–µ —É–ø–æ–º–∏–Ω–∞—Ç—å –¥—Ä—É–≥–∏–µ, –∞ –±—É–¥—É —Ç—É–ø–æ –ø–∏–∞—Ä–∏—Ç—å —Ä–∞—Ñ—Ç.
- –ü–æ—Å—Ç—Ä–æ–µ–Ω —Å —É–ø–æ—Ä–æ–º –Ω–∞ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å, –Ω–æ –º–æ–∑–≥—É –ø—Ä–∏–¥–µ—Ç—Å—è –ø–æ—Ç—Ä—É–¥–∏—Ç—å—Å—è.

<!-- ############################################################ -->
<!-- ############################################################ -->
<!-- ############################################################ -->
---
class: sectionpage
background-size: contain
background-image: url(template/bg-section.svg)
# Raft

<!-- ############################################################ -->
---
# –†–µ–ø–ª–∏—Ü–∏—Ä—É–µ–º—ã–π –∫–æ–Ω–µ—á–Ω—ã–π –∞–≤—Ç–æ–º–∞—Ç
.center[![:scale 1050px](images/raft-1.svg)]
???
- –†–∞—Ñ—Ç –≤ –∫–∞—á–µ—Å—Ç–≤–µ —Ä–µ—à–µ–Ω–∏—è –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç...
- –°—Ç—Ä–æ–∏–º —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç.

<!-- ############################################################ -->
---
# –ü–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
.center[![:scale 1050px](images/multiframe-1.svg#frame1)]
<!-- See: https://css-tricks.com/svg-fragment-identifiers-work/ -->
???
- –ê —Ç–µ–ø–µ—Ä—å –≤–∑–≥–ª—è–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à–∏ –ª–∏—Å—Ç–∫–∏.
- –°—Ç–µ–π—Ç –º–∞—à–∏–Ω—ã –Ω–µ—Ç, –µ—Å—Ç—å —Ç–æ–ª—å–∫–æ –∂—É—Ä–Ω–∞–ª.
- –°—é–¥–∞ –º—ã –±—É–¥–µ–º –ø–∏—Å–∞—Ç—å –ø–æ—Å–ª–∞–Ω–∏–µ, –ø–æ –æ–¥–Ω–æ–π –±—É–∫–≤–µ –≤ –∫–ª–µ—Ç–æ—á–∫—É.
- –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø–æ—Ç–æ–º –ø—Ä–∏–¥—É–º–∞–µ—Ç–µ —Å–∞–º–∏.

<!-- ############################################################ -->
---
# –õ–∏–¥–µ—Ä, —Ñ–æ–ª–ª–æ–≤–µ—Ä, –∫–∞–Ω–¥–∏–¥–∞—Ç
.center[![:scale 1050px](images/raft-states.svg)]
- *Leader* –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π –ø–∏—à–µ—Ç –≤ –∂—É—Ä–Ω–∞–ª + –ø–∏–Ω–≥—É–µ—Ç –æ–∫—Ä—É–∂–∞—é—â–∏—Ö
- *Follower* –ø–∞—Å—Å–∏–≤–µ–Ω, –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∏–∫–∞–∫–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- *Candidate* –ø—Ä–æ–≤–æ–¥–∏—Ç –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ
???
- –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –∑–Ω–∞–∫–æ–º–∏—Ç—å—Å—è —Å —Ç–µ—Ä–º–∏–Ω–æ–ª–æ–≥–∏–µ–π

<!-- ############################################################ -->
---
# –¢–µ—Ä–º—ã
.center[![:scale 1050px](images/raft-terms.svg)]

<!-- ############################################################ -->
<!-- ############################################################ -->
<!-- ############################################################ -->
---
class: sectionpage
background-size: contain
background-image: url(template/bg-section.svg)
# –í—ã–±–æ—Ä—ã –ª–∏–¥–µ—Ä–∞
## –ò–≥—Ä–∞ 1

<!-- ############################################################ -->
<!-- --- -->
<!-- # –í—ã–±–æ—Ä—ã –ª–∏–¥–µ—Ä–∞ -->
<!-- .center[![:scale 1050px](images/multiframe-1.svg#frame2)] -->

<!-- ############################################################ -->
---
# i1, –Ω–∞—á–∏–Ω–∞–π—Ç–µ –≤—ã–±–æ—Ä—ã
.center[![:scale 1050px](images/multiframe-1.svg#frame3)]
.timer[‚è±]
???
- –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç-–∞–≥–Ω–æ—Å—Ç–∏–∫
- –í —Ä–∞—Ñ—Ç–µ —ç—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è RPC
- –≠—Ç–æ —Å–µ—Ç–µ–≤—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è.
- –ß—É—Ä —É —Å–æ—Å–µ–¥–∞ –Ω–µ —Å–ø–∏—Å—ã–≤–∞—Ç—å.

<!-- ############################################################ -->
---
# i2-i8: ¬´–û–∫¬ª.
.center[![:scale 1050px](images/multiframe-1.svg#frame4)]
.timer[‚è±]
???
- –ì–æ–ª–æ—Å–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ 1 —Ä–∞–∑ –∑–∞ —Ç–µ—Ä–º
- –ì–æ–ª–æ—Å—É–µ–º –∑–∞ –ø–µ—Ä–≤–æ–≥–æ –≤—Å—Ç—Ä–µ—á–Ω–æ–≥–æ
- –°–Ω–∞—á–∞–ª–∞ –ø–µ—Ä—Å–∏—Å—Ç–∏–º, –ø–æ—Ç–æ–º –æ—Ç–≤–µ—á–∞–µ–º –Ω–∞ –∑–∞–ø—Ä–æ—Å

<!-- ############################################################ -->
---
# i1: ¬´–£-—Ö—É—É!¬ª
.center[![:scale 1050px](images/multiframe-1.svg#frame5)]

<!-- ############################################################ -->
<!-- ############################################################ -->
<!-- ############################################################ -->
---
class: sectionpage
background-size: contain
background-image: url(template/bg-section.svg)
# –†–µ–ø–ª–∏–∫–∞—Ü–∏—è –∂—É—Ä–Ω–∞–ª–∞
## –ò–≥—Ä–∞ 2

<!-- ############################################################ -->
---
# i1, –∑–∞–ø–æ–ª–Ω—è–π—Ç–µ raft-–∂—É—Ä–Ω–∞–ª
.center[![:scale 1050px](images/multiframe-2.svg#frame1)]
.timer[‚è±]

<!-- ############################################################ -->
---
# i1: ¬´–ó–∞–ø–µ—Ä—Å–∏—Å—Ç—å—Ç–µ!¬ª
.center[![:scale 1050px](images/multiframe-2.svg#frame3)]
.timer[‚è±]

<!-- ############################################################ -->
---
# i2-i8: ¬´–û–∫¬ª.
.center[![:scale 1050px](images/multiframe-2.svg#frame4)]
.timer[‚è±]
???
- –°–Ω–∞—á–∞–ª–∞ –ø–µ—Ä—Å–∏—Å—Ç–∏–º, –ø–æ—Ç–æ–º –æ—Ç–≤–µ—á–∞–µ–º –Ω–∞ –∑–∞–ø—Ä–æ—Å

<!-- ############################################################ -->
---
# i1: ¬´–û—Ç–ª–∏—á–Ω–æ!¬ª
.center[![:scale 1050px](images/multiframe-2.svg#frame5)]

<!-- ############################################################ -->
---
# –°–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π
.center[![:scale 1050px](images/raft-log-1.svg)]

<!-- ############################################################ -->
---
# i1: ¬´–†–µ–ø–ª–∏—Ü–∏—Ä—É–π—Ç–µ—Å—å!¬ª
.timer[‚è±]
.center[![:scale 1050px](images/multiframe-2.svg#frame6)]

<!-- ############################################################ -->
---
# i4, –ø–æ—Ç–µ—Ä—è–π—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
.timer[‚è±]
.center[![:scale 1050px](images/multiframe-2.svg#frame7)]

<!-- ############################################################ -->
<!-- ############################################################ -->
<!-- ############################################################ -->
---
class: sectionpage
background-size: contain
background-image: url(template/bg-section.svg)
# –¢–µ—Ä–º –±–µ–∑ –ª–∏–¥–µ—Ä–∞
## –ò–≥—Ä–∞ 3

<!-- ############################################################ -->
---
# i4 –∏ i1, –≤—ã "–æ—Ñ—Ñ–ª–∞–π–Ω"
–ü–µ—Ä–µ–≤–µ—Ä–Ω–∏—Ç–µ –≤–∞—à–∏ –ª–∏—Å—Ç–∫–∏

<!-- ############################################################ -->
---
# i8, –Ω–∞—á–∏–Ω–∞–π—Ç–µ –≤—ã–±–æ—Ä—ã
.center[![:scale 1050px](images/multiframe-3.svg#frame1)]
.timer[‚è±]

<!-- ############################################################ -->
---
# i2, i3: ¬´–ù–µ-–∞¬ª.
.center[![:scale 1050px](images/multiframe-3.svg#frame2)]
.timer[‚è±]
???
- i8 –æ—Ç–¥–∞–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ i2
<!-- ############################################################ -->
---
# i8: ¬´üò•¬ª.
.center[![:scale 1050px](images/multiframe-3.svg#frame3)]
???
- –ß—Ç–æ–±—ã —Ç–∞–∫–æ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –Ω–µ —Å–ª–∏—à–∫–æ–º —á–∞—Å—Ç–æ, raft —Ä–∞–Ω–¥–æ–º–∏–∑–∏—Ä—É–µ—Ç —Ç–∞–π–º–∞—É—Ç –≤
  –Ω–µ–∫–æ—Ç–æ—Ä–æ–º –¥–∏–∞–ø–∞–∑–æ–Ω–µ, –≤ –µ—Ç—Ü–¥ `[t, 2t)`.

<!-- ############################################################ -->
<!-- ############################################################ -->
<!-- ############################################################ -->
---
class: sectionpage
background-size: contain
background-image: url(template/bg-section.svg)
# –ü–µ—Ä–µ–∑–∞–ø–∏—Å—å –∂—É—Ä–Ω–∞–ª–∞
## –ò–≥—Ä–∞ 4

<!-- ############################################################ -->
---
# i4, –Ω–∞—á–∏–Ω–∞–π—Ç–µ –≤—ã–±–æ—Ä—ã
.center[![:scale 1050px](images/multiframe-3.svg#frame4)]
.timer[‚è±]
???
- —Ç–µ—Ä–º t2 –ø—Ä–æ–ø—É—Å–∫–∞–µ–º

<!-- ############################################################ -->
---
# i4 —Ç–µ–ø–µ—Ä—å –ª–∏–¥–µ—Ä
.center[![:scale 1050px](images/multiframe-3.svg#frame5)]
.timer[‚è±]

<!-- ############################################################ -->
---
# i4, –∑–∞–ø–æ–ª–Ω—è–π—Ç–µ raft-–∂—É—Ä–Ω–∞–ª
.center[![:scale 1050px](images/multiframe-4.svg#frame1)]
.timer[‚è±]

<!-- ############################################################ -->
---
# i5-i8, –æ–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –∑–∞–ø—Ä–æ—Å
.center[![:scale 1050px](images/multiframe-4.svg#frame2)]
.timer[‚è±]

<!-- ############################################################ -->
---
# i1, –≤–æ–∑–≤—Ä–∞—â–∞–π—Ç–µ—Å—å –æ–Ω–ª–∞–π–Ω
.center[![:scale 1050px](images/multiframe-4.svg#frame3)]
.timer[‚è±]

<!-- ############################################################ -->
---
# –§–∞–∫—É–ª—å—Ç–∞—Ç–∏–≤

- –î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Ç–æ–ø–æ–ª–æ–≥–∏–∏.
- Pre-vote.
- Applied –∏–Ω–¥–µ–∫—Å –º–æ–∂–µ—Ç –æ–±–≥–æ–Ω—è—Ç—å persisted.

<!-- ############################################################ -->
---
# –ú–∞—Ç–µ—Ä–∏–∞–ª—ã

- –°–ª–∞–π–¥—ã: https://rosik.github.io/2023-highload

- [@picodataru](https://t.me/picodataru), https://picodata.io/

- Raft: https://raft.github.io/

> In search of Understandable Consensus Algorithm.<br/>
  Diego Ongaro and John Ousterhout.<br/>
  Stanford University.
